@media (-moz-pref("zen.tabs.vertical")) {
  /* Tab Borders Based on Preference */
  .tabbrowser-tab:not([pinned]):is([multiselected="true"], [selected]) .tab-background {
    @media (-moz-pref("uc.tabs.preferred_color", "primary")) {
      border: 2px solid var(--zen-colors-primary) !important;
    }

    @media (-moz-pref("uc.tabs.preferred_color", "secondary")) {
      border: 2px solid var(--zen-colors-secondary) !important;
    }

    @media (-moz-pref("uc.tabs.preferred_color", "tertiary")) {
      border: 2px solid var(--zen-colors-tertiary) !important;
    }

    @media (-moz-pref("uc.tabs.preferred_color", "border")) {
      border: 2px solid var(--zen-colors-border) !important;
    }

    @media (-moz-pref("uc.tabs.preferred_color", "custom")) {
      @media (prefers-color-scheme: light) {
        border: 2px solid var(--uc-tabs-custom_color_hex, #000000) !important; /* Fallback to black */
      }

      @media (prefers-color-scheme: dark) {
        border: 2px solid var(--uc-tabs-custom_color_hex, #ffffff) !important; /* Fallback to white */
      }
    }
  }

  /* Background Modification for Selected Tab */
  #tabbrowser-tabs .tabbrowser-tab[selected] .tab-background {
    background: color-mix(
      in srgb,
      var(--zen-colors-secondary) 40%,
      transparent
    ) !important;
  }

  /* Dimming Tab Text When Unloaded */
  @media (-moz-pref("uc.tabs.dim_unloaded")) and (-moz-pref("zen.tabs.dim-pending")) {
    #tabbrowser-tabs .tabbrowser-tab[pending="true"] .tab-text {
      opacity: 0.5; /* Dimmed text for pending tabs */
    }
  }
}
